twitter_feed={user:"iEnabled",numTweets:2,appendTo:"#twitter-feed",loadTweets:function(){$.ajax({url:"http://api.twitter.com/1/statuses/user_timeline.json/",type:"GET",dataType:"jsonp",data:{screen_name:twitter_feed.user,include_rts:true,count:twitter_feed.numTweets,include_entities:true},success:function(e,t,n){var r='<div class="tweet"><p class="tweet-item">TWEET_TEXT<br/></p><div class="time">AGO</div>';for(var i=0;i<e.length;i++){$(twitter_feed.appendTo).append(r.replace("TWEET_TEXT",twitter_feed.ify.clean(e[i].text)).replace(/USER/g,e[i].user.screen_name).replace("AGO",twitter_feed.timeAgo(e[i].created_at)).replace(/ID/g,e[i].id_str))}}})},timeAgo:function(e){var t=new Date;var n=new Date(e);if($.browser.msie){n=Date.parse(e.replace(/( \+)/," UTC$1"))}var r=t-n;var i=1e3,s=i*60,o=s*60,u=o*24,a=u*7;if(isNaN(r)||r<0){return""}if(r<i*2){return"just posted"}if(r<s){return Math.floor(r/i)+" seconds ago"}if(r<s*2){return"about 1 minute ago"}if(r<o){return Math.floor(r/s)+" minutes ago"}if(r<o*2){return"about 1 hour ago"}if(r<u){return Math.floor(r/o)+" hours ago"}if(r>u&&r<u*2){return"yesterday"}if(r<u*365){return Math.floor(r/u)+" days ago"}else{return"over a year ago"}},ify:{link:function(e){return e.replace(/\b(((https*\:\/\/)|www\.)[^\"\']+?)(([!?,.\)]+)?(\s|$))/g,function(e,t,n,r,i){var s=n.match(/w/)?"http://":"";return'<a class="twtr-hyperlink" target="_blank" href="'+s+t+'">'+(t.length>25?t.substr(0,24)+"...":t)+"</a>"+i})},at:function(e){return e.replace(/\B[@ï¼ ]([a-zA-Z0-9_]{1,20})/g,function(e,t){return'<a target="_blank" class="twtr-atreply" href="http://twitter.com/intent/user?screen_name='+t+'">@'+t+"</a>"})},list:function(e){return e.replace(/\B[@ï¼ ]([a-zA-Z0-9_]{1,20}\/\w+)/g,function(e,t){return'<a target="_blank" class="twtr-atreply" href="http://twitter.com/'+t+'">@'+t+"</a>"})},hash:function(e){return e.replace(/(^|\s+)#(\w+)/gi,function(e,t,n){return t+'<a target="_blank" class="twtr-hashtag" href="http://twitter.com/search?q=%23'+n+'">#'+n+"</a>"})},clean:function(e){return this.hash(this.at(this.list(this.link(e))))}}};$(document).ready(function(){twitter_feed.loadTweets()})